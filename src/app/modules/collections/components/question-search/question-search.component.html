<form [formGroup]="searchForm" (ngSubmit)="onSubmit()" novalidate>
  <h1 class="text-primary text-uppercase">Search</h1>
  <div class="form-group mb-0">
    <input class="form-control mb-2 rounded-0" #searchBox formControlName="q"
            (keyup.enter)="searchBox.blur()"
            (keyup)="searchTags(searchBox.value, searchBox.selectionEnd)"
            (click)="searchTags(searchBox.value, searchBox.selectionEnd)" />
    <ul class="list-group" style="position:absolute;z-index:50">
      <li *ngFor="let tag of tags | async"
          (click)="updateQuery(searchBox.value, searchBox.selectionEnd, tag.name)"
          class="list-group-item list-group-item-action d-flex justify-content-between rounded-0 py-0">
        <div>{{tag.name}}</div>
        <div class="ml-5">{{tag.question_count}}</div>
      </li>
    </ul>
  </div>
  <div class="text-right">
    <span class="text-uppercase text-muted" (click)="toggleFilters()">
      Search Filters
      <span class="oi oi-magnifying-glass"></span>
    </span>
  </div>
  <div [hidden]="!showFilters">
    TODO: filters
  </div>
</form>
